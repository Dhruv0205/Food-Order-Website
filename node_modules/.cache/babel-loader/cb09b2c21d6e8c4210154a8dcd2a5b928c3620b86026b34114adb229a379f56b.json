{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\dhruv\\\\React-Project\\\\Food-Order-App\\\\src\\\\components\\\\Body.js\",\n  _s = $RefreshSig$();\nimport { useEffect, useState, useContext } from \"react\";\nimport RestaurantCart, { withPromotedLabel } from \"./RestaurantCart\";\n// import Shimmer from \"./Shimmer\";\nimport ShimmerUi from \"./ShimmerUi\";\nimport { Link } from \"react-router-dom\";\n// import UserContext from \"../utils/UserContext\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst Body = () => {\n  _s();\n  const [listOfRestaurants, setListOfRestaurants] = useState([]);\n  const [searchText, setSearchText] = useState(\"\");\n  const RestaurantCardPromoted = withPromotedLabel(RestaurantCart);\n  const searcHandler = () => {\n    setListOfRestaurants(listOfRestaurants.filter(restaurant => {\n      restaurant.data.includes(searchText);\n    }));\n  };\n  useEffect(() => {\n    fetchData();\n  }, []);\n  const fetchData = async () => {\n    var _json$data, _json$data$cards$, _json$data$cards$$car, _json$data$cards$$car2, _json$data$cards$$car3, _json$data$cards$$car4;\n    //fetch is a superpower which is given by browser(js engine have) not by javascript.\n    const data = await fetch(\"https://www.swiggy.com/dapi/restaurants/list/v5?lat=22.7611352&lng=75.8750008&is-seo-homepage-enabled=true&page_type=DESKTOP_WEB_LISTING\");\n    const json = await data.json();\n    setListOfRestaurants(json === null || json === void 0 ? void 0 : (_json$data = json.data) === null || _json$data === void 0 ? void 0 : (_json$data$cards$ = _json$data.cards[4]) === null || _json$data$cards$ === void 0 ? void 0 : (_json$data$cards$$car = _json$data$cards$.card) === null || _json$data$cards$$car === void 0 ? void 0 : (_json$data$cards$$car2 = _json$data$cards$$car.card) === null || _json$data$cards$$car2 === void 0 ? void 0 : (_json$data$cards$$car3 = _json$data$cards$$car2.gridElements) === null || _json$data$cards$$car3 === void 0 ? void 0 : (_json$data$cards$$car4 = _json$data$cards$$car3.infoWithStyle) === null || _json$data$cards$$car4 === void 0 ? void 0 : _json$data$cards$$car4.restaurants);\n    console.log(json);\n  };\n\n  // const {setUserName, loggedInUser} = useContext(UserContext);\n\n  return listOfRestaurants.length === 0 ? /*#__PURE__*/_jsxDEV(ShimmerUi, {}, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 38,\n    columnNumber: 6\n  }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"body\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"filter flex items-center\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"search p-4 m-4\",\n        children: [/*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          className: \"search-box border border-black\",\n          value: searchText,\n          onChange: e => {\n            setSearchText(e.target.value);\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 43,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"px-4 py-0.5 m-3 bg-green-300 rounded-md\",\n          onClick: searcHandler,\n          children: \"Search\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 46,\n          columnNumber: 17\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 42,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"filter-btn px-3 py-1 m-10 bg-gray-200 rounded-md\",\n        onClick: () => {\n          const filteredList = listOfRestaurants.filter(res => res.info.avgRating > 4);\n          setListOfRestaurants(filteredList);\n        },\n        children: \"Top Rated Restaurants\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 49,\n        columnNumber: 13\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 41,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"flex flex-wrap\",\n      children: listOfRestaurants.map(restaurant => {\n        var _restaurant$info, _restaurant$info2;\n        return /*#__PURE__*/_jsxDEV(Link, {\n          to: \"/restaurant/\" + (restaurant === null || restaurant === void 0 ? void 0 : (_restaurant$info2 = restaurant.info) === null || _restaurant$info2 === void 0 ? void 0 : _restaurant$info2.id),\n          children: restaurant.info.promoted ? /*#__PURE__*/_jsxDEV(RestaurantCardPromoted, {\n            resData: restaurant\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 68,\n            columnNumber: 11\n          }, this) : /*#__PURE__*/_jsxDEV(RestaurantCart, {\n            resData: restaurant\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 70,\n            columnNumber: 13\n          }, this)\n        }, restaurant === null || restaurant === void 0 ? void 0 : (_restaurant$info = restaurant.info) === null || _restaurant$info === void 0 ? void 0 : _restaurant$info.id, false, {\n          fileName: _jsxFileName,\n          lineNumber: 63,\n          columnNumber: 10\n        }, this);\n      })\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 40,\n    columnNumber: 7\n  }, this);\n};\n_s(Body, \"F00pU4sD2pmJ02JsfcxlmtdGOoQ=\");\n_c = Body;\nexport default Body;\nvar _c;\n$RefreshReg$(_c, \"Body\");","map":{"version":3,"names":["useEffect","useState","useContext","RestaurantCart","withPromotedLabel","ShimmerUi","Link","jsxDEV","_jsxDEV","Body","_s","listOfRestaurants","setListOfRestaurants","searchText","setSearchText","RestaurantCardPromoted","searcHandler","filter","restaurant","data","includes","fetchData","_json$data","_json$data$cards$","_json$data$cards$$car","_json$data$cards$$car2","_json$data$cards$$car3","_json$data$cards$$car4","fetch","json","cards","card","gridElements","infoWithStyle","restaurants","console","log","length","fileName","_jsxFileName","lineNumber","columnNumber","className","children","type","value","onChange","e","target","onClick","filteredList","res","info","avgRating","map","_restaurant$info","_restaurant$info2","to","id","promoted","resData","_c","$RefreshReg$"],"sources":["C:/Users/dhruv/React-Project/Food-Order-App/src/components/Body.js"],"sourcesContent":["import { useEffect, useState, useContext } from \"react\";\r\nimport RestaurantCart, {withPromotedLabel} from \"./RestaurantCart\";\r\n// import Shimmer from \"./Shimmer\";\r\nimport ShimmerUi from \"./ShimmerUi\";\r\nimport { Link } from \"react-router-dom\";\r\n// import UserContext from \"../utils/UserContext\";\r\n\r\nconst Body = () =>{\r\n    const [listOfRestaurants, setListOfRestaurants] = useState([]);\r\n    const [searchText, setSearchText] = useState(\"\");\r\n\r\n    const RestaurantCardPromoted = withPromotedLabel(RestaurantCart); \r\n\r\n    const searcHandler = () =>{\r\n      setListOfRestaurants(listOfRestaurants.filter((restaurant)=>{\r\n        restaurant.data.includes(searchText)\r\n      }))\r\n    }\r\n\r\n    useEffect(()=>{\r\n        fetchData();\r\n    }, [])\r\n\r\n    const fetchData = async ()=>{\r\n      //fetch is a superpower which is given by browser(js engine have) not by javascript.\r\n        const data = await fetch(\r\n           \"https://www.swiggy.com/dapi/restaurants/list/v5?lat=22.7611352&lng=75.8750008&is-seo-homepage-enabled=true&page_type=DESKTOP_WEB_LISTING\"\r\n        );\r\n\r\n        const json = await data.json();\r\n        setListOfRestaurants(json?.data?.cards[4]?.card?.card?.gridElements?.infoWithStyle?.restaurants)\r\n        console.log(json);\r\n    };\r\n\r\n    // const {setUserName, loggedInUser} = useContext(UserContext);\r\n\r\n    return listOfRestaurants.length === 0 ?(\r\n     <ShimmerUi /> \r\n    ):(\r\n      <div className=\"body\">\r\n        <div className=\"filter flex items-center\">\r\n            <div className=\"search p-4 m-4\">\r\n                <input type=\"text\" className=\"search-box border border-black\" value={searchText} onChange={(e)=>{\r\n                    setSearchText(e.target.value);\r\n                } } />\r\n                <button className=\"px-4 py-0.5 m-3 bg-green-300 rounded-md\" onClick={searcHandler}>Search</button>\r\n            </div>\r\n\r\n            <button className=\"filter-btn px-3 py-1 m-10 bg-gray-200 rounded-md\" onClick={()=>{\r\n                const filteredList = listOfRestaurants.filter(\r\n                    (res) => res.info.avgRating > 4\r\n                );\r\n                  setListOfRestaurants(filteredList);\r\n            }}>\r\n                Top Rated Restaurants\r\n            </button>\r\n\r\n            {/*<label>username: </label>\r\n             <input type=\"text\" className=\"p-2 border border-black m-2\" value={loggedInUser} onChange={(e)=> setUserName(e.target.value)} /> */}\r\n        </div>\r\n        <div className=\"flex flex-wrap\">\r\n          {listOfRestaurants.map((restaurant) => (\r\n         <Link\r\n           key={restaurant?.info?.id}\r\n           to={\"/restaurant/\" + restaurant?.info?.id}\r\n          > \r\n          {restaurant.info.promoted ? (\r\n          <RestaurantCardPromoted resData={restaurant} />\r\n          ):(\r\n            <RestaurantCart resData={restaurant} />\r\n           )}\r\n          </Link>\r\n          ))}\r\n        </div>\r\n      </div>\r\n    );\r\n  };\r\n\r\n  export default Body;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}